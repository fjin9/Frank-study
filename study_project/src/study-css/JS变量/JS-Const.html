<!doctype html>
<html lang = "en">
	<head>
		<meta charset = "UTF-8">
		<meta
			name = "viewport"
			content = "width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
		>
		<meta
			http-equiv = "X-UA-Compatible"
			content = "ie=edge"
		>
		<title>JS Const</title>
	</head>
	<body>
		
		<script>
			//通过const定义的变量与let变量类似，但不能重新赋值
			const PI = 3.1415926;
			//PI = 3.14; //报错 Assignment to constant variable
			//PI = PI + 10 //报错 Assignment to constant variable
			
			//块作用域
			//在块作用域内使用const声明的变量与let变量相似
			var x = 10;
			console.log(x); //10
			{
				const x = 6;
				console.log(x); //6
			}
			console.log(x); //10
			
			//在声明时赋值
			//JS const 变量必须在声明时赋值
			//不正确
			/* const a; 报错 Missing initializer in const declaration
			a = 10; */
			
			//正确
			const a = 10;
			
			//不是真正的常数
			//关键字const有一定的误导性
			//它没有定义常量值 它定义了对值的常量引用
			//因此，我们不能更改常量原始值，但我们可以更改常量对象的属性
			
			//原始值
			//我们将一个原始值赋给常量，我们就不能改变原始值
			const c = 10;
			// c = 1; 报错
			// c = c + 1; 报错
			
			//常量对象可以更改
			const car = {type: 'porsche', model: '911', color: 'Black'};
			//可以更改属性
			car.color = 'White';
			//可卡因添加属性
			car.owner = 'Bill';
			console.log(car); //{type: 'porsche', model: '911', color: 'White', owner: 'Bill'}
			//但是无法重新为常量对象赋值
			//car = {type:"Volvo", model:"XC60", color:"White"}; //报错 Assignment to constant variable
		
			//常量数组可以更改
			const cars = ['Audi', 'BMW', 'porsche'];
			//可以更改元素
			cars[0] = 'Honda';
			//可以添加元素
			cars.push('Volvo');
			console.log(cars); //['Honda', 'BMW', 'porsche', 'Volvo']
			//同理无法重新为常量数组赋值
			
			//重新声明
			//只有在不同的作用域或块中重新声明const时允许的
			const d = 2;
			console.log(d); //2
			{
				const d = 3;
				console.log(d); //3
			}
			{
				const d = 4;
				console.log(d); //4
			}
		</script>
	</body>
</html>
