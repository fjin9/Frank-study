<!doctype html>
<html lang = "en">
	<head>
		<meta charset = "UTF-8">
		<meta
			name = "viewport"
			content = "width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
		>
		<meta
			http-equiv = "X-UA-Compatible"
			content = "ie=edge"
		>
		<title>JS手写题</title>
	</head>
	<body>
		
		<script !src = "">
			{
				//1.数据类型判断
				//typeof可以正确识别: Undefined Boolean Number String Symbol Function等类型的数据
				//但是对于其他的都会认为是object, 比如Null Date等，所以通过typeof来判断数据类型会不准确
				//但是可以使用Object.prototype.toString实现
				const date = new Date();
				
				function typeOf(obj){
					return Object.prototype.toString.call(obj).slice(8, -1).toLowerCase();
				}
				
				console.log(Object.prototype.toString.call(date)); //[object Date]
				
				console.log(typeOf(date)); //date
			}
			
			{
				//2.继承
				//(1).原型链继承
				function Animal(){
					this.colors = ['black', 'white'];
				}
				Animal.prototype.getColor = function (){
					return this.colors
				}
				
				function Dog() {}
				Dog.prototype = new Animal();
				
				let dog1 = new Dog();
				dog1.colors.push('brown');
				let dog2 = new Dog();
				console.log(dog2.colors); //['black', 'white', 'brown']
			}
			
			{
				//数组去重
				//ES5实现
				const ary = [1, 2, 3, 4, 2, 7, 8, 4, 1, 7]
				function unique(ary){
					const res = ary.filter((item, index, array) => {
						return array.indexOf(item) === index
					})
					
					return res;
				}
				
				console.log(unique(ary)); //[1, 2, 3, 4, 7, 8]
				
				//ES6实现
				const unique2 = (ary) => [...new Set(ary)];
				console.log(unique2(ary)); //[1, 2, 3, 4, 7, 8]
			}
			
			{
				//数组扁平化
				//数组扁平化就是将[1, [2, [3]]]这种多层的数组拍平成一层[1, 2, 3]
				//使用Array.prototype.flat可以直接将多层数组拍平成一层
				const ary = [1, [2, [3]]].flat(2);
				console.log(ary); //[1, 2, 3]
			}
			
			{
				//图片懒加载
				//与普通的图片懒加载不同，如下这个多做了2个精心处理
				//图片全部加载完成后移除事件监听
				//加载完的图片，从imgList移除
				
			}
		</script>
	</body>
</html>
