<!doctype html>
<html lang = "en">
	<head>
		<meta charset = "UTF-8">
		<meta
			name = "viewport"
			content = "width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
		>
		<meta
			http-equiv = "X-UA-Compatible"
			content = "ie=edge"
		>
		<title>JS Let</title>
	</head>
	<body>
		
		<script>
			//全局作用域
			//全局(在函数之外)声明的变量拥有全局作用域
			var carName = 'porsche';
			//此处的代码可以使用carName
			console.log(carName);
			function myFunction() {
				//此处的代码也可以使用carName
				console.log(carName);
			}
			myFunction();
			console.log(carName);
			//全局变量可以在JS程序中的任何位置访问
			
			//函数作用域
			//局部(函数内)声明的变量拥有函数作用域
			
			//此处的代码不可以使用carName2
			//console.log(carName2); //carName2 is not defined
			function myFunction2() {
				var carName2 = 'Audi';
				//此处的代码可以使用carName2
				console.log(carName2);
			}
			myFunction2(); //audi
			//此处的代码不可以使用carName2
			//console.log(carName2); //carName2 is not defined
			
			//JS块作用域
			//通过var关键词声明的变量没有作用域
			//在块{}内声明的变量可以从块之外进行访问
			{
				var x = 10;
			}
			//此处可以使用x
			console.log(x); //10
			
			//可以使用let关键词声明拥有块作用域的变量
			//在块{}内声明的变量无法从块外访问
			{
				let y = 10;
			}
			//此处不可以使用y
			//console.log(y); //y is not defined
			
			//重新声明变量
			//使用var关键字重新声明变量会带来问题
			//在块中重新声明变量也将会重新声明块外的变量
			var a = 10;
			//此处a为10
			console.log(a);
			{
				a = 6;
				//此处a为6
				console.log(a);
			}
			//此处a为6
			console.log(a);
		
			//使用let关键字重新声明变量可以解决这个问题
			//在块中重新声明变量不会重新声明块外的变量
			var b = 10;
			//此处b为10
			console.log(b);
			{
				let b = 6;
				//此处b为6
				console.log(b);
			}
			//此处b为10
			console.log(b);
		
			//循环作用域
			//在循环中使用var
			var i = 7;
			for(i = 0; i < 10; i++){
				//一些语句
			}
			//此处i为10
			console.log(i);
			
			//在循环中使用let
			let i2 = 7;
			for(let i2 = 0; i2 < 10; i2++){
				//一些语句
			}
			//此处i2为7
			console.log(i2);
			
			//重新声明
			//允许在程序的任何位置使用var重新声明JS变量
			var c = 10;
			//现在，x为10
			var c = 6;
			//现在，x为6
			console.log(a);
			
			//在相同的作用域，或在相同的块中，通过let重新声明一个var变量是不允许的
			var d = 10;
			//let d = 6; //报错 Identifier 'd' has already been declared
			
			//在相同的作用域，或在相同的块中，通过let重新声明一个let变量是不允许的
			let e = 10;
			//let e = 6; //报错 Identifier 'e' has already been declared
			
			//在不同的作用域块中，通过let重新声明变量是允许的
			let f = 6;
			console.log(f); //6
			{
				let f = 7;
				console.log(f); //7
			}
			
			{
				let f = 8;
				console.log(f); //8
			}
		</script>
	</body>
</html>
